//-----------------------------------------------------------------
//  名称: 可编程序接口芯片8155应用
//-----------------------------------------------------------------
//  说明: 本例利用8155的PA,PB连接数码管,显示8155当前定时初值,
//        PC端口连接按键,分别用于调整定时初值,启动定时器,写8155RAM等.
//        启动定时器后,在定时溢出时,8155 TOUT将触发INT0中断,输出提示音.
//        在调节的定时初值不同时,声音输出的间隔也不同.
//
//-----------------------------------------------------------------
#define F_CPU 2000000UL
#include <avr/io.h>
#include <avr/interrupt.h>
#include <util/delay.h>
#define INT8U   unsigned char
#define INT16U  unsigned int

//8155地址定义











//蜂鸣器定义
#define BEEP() PORTB ^= _BV(PB0)
//0-9的共阳数码管段码表,最后一位为黑屏幕
const INT8U SEG_CODE[] =
{ 0xC0,0xF9,0xA4,0xB0,0x99,0x92,0x82,0xF8,0x80,0x90,0xFF };
//待显示信息缓冲
INT8U Disp_Buffer[4] = {10,3,5,0};
//8155定时计数初值变量
volatile INT16U cnt_8155 = 350;
//定时初值递增或递减
enum OP_Type {ADD,SUB};
//-----------------------------------------------------------------
// 输出提示音
//-----------------------------------------------------------------
void Sounder()
{





}

//-----------------------------------------------------------------
// 设置8155 定时初值
//-----------------------------------------------------------------
void Set_8155_TC()
{




}

//-----------------------------------------------------------------
// 8155定时初值调整
//-----------------------------------------------------------------
void adjust_tCount(enum OP_Type op)
{










}

//-----------------------------------------------------------------
// 8155PC端口按键处理
//-----------------------------------------------------------------
void Key_Process()
{














}

//-----------------------------------------------------------------
// 主程序
//-----------------------------------------------------------------
int main()
{	












}

//-----------------------------------------------------------------
// INT0中断子程序
//-----------------------------------------------------------------
ISR (INT0_vect)
{


}
